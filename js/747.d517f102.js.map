{"version":3,"file":"js/747.d517f102.js","mappings":"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","sources":["webpack://web/./src/views/CaseView.vue","webpack://web/./src/components/AddWorkLogOffcanvas.vue","webpack://web/./src/components/AddWorkLogOffcanvas.vue?d955","webpack://web/./src/views/CaseView.vue?c190"],"sourcesContent":["<template>\n  <section class=\"mb-3\">\n    <div class=\"d-flex justify-content-between align-items-center border-bottom pb-2\">\n      <h5 class=\"mb-0\">Ê°à‰ª∂ÂàóË°®</h5>\n\n      <a\n        href=\"#\"\n        class=\"text-decoration-none\"\n        @click.prevent=\"this.$emitter.emit('addEditCase', { isNew: true })\"\n      >\n        Êñ∞Â¢ûÊ°à‰ª∂ <i class=\"bi bi-plus-lg\"></i>\n      </a>\n    </div>\n  </section>\n\n  <section class=\"overflow-y-auto\">\n    <table class=\"table align-middle table-hover\">\n      <thead class=\"table-primary sticky-top\">\n        <tr>\n          <th>#</th>\n          <th>Ê°à‰ª∂ÂêçÁ®±</th>\n          <th>Âêà‰ΩúÂª†ÂïÜ</th>\n          <th>Â∑•Êúü</th>\n          <th>ÊñΩÂ∑•Âú∞ÂùÄ</th>\n          <th>ÁãÄÊÖã</th>\n          <th>Êìç‰Ωú</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr v-for=\"(item, index) in caseList\" :key=\"item._id\">\n          <th>{{ index + 1 }}</th>\n\n          <td>\n            <div class=\"fw-bold\">{{ item.name }}</div>\n            <small class=\"text-muted\">Ê°à‰ª∂Á∑®ËôüÔºö{{ item.code || '-' }}</small>\n          </td>\n\n          <td>\n            <div>{{ item.vendor?.name }}</div>\n            <small class=\"text-muted\">\n              {{ item.vendor?.contactPerson }} ÔΩú {{ item.vendor?.phone }}\n            </small>\n          </td>\n\n          <td>\n            <div>{{ formatDate(item.startDate) }}</div>\n            <small class=\"text-muted\">\n              ÔΩû {{ item.endDate ? formatDate(item.endDate) : 'Êú™ÂÆö' }}\n            </small>\n          </td>\n\n          <td>{{ item.address }}</td>\n\n          <td>\n            <span :class=\"['badge', statusClass(item.status)]\">\n              {{ statusText(item.status) }}\n            </span>\n          </td>\n\n          <td>\n            <button\n              class=\"btn btn-sm btn-outline-primary me-1\"\n              @click=\"$emitter.emit('addEditCase', { isNew: false, data: item })\"\n            >\n              <i class=\"bi bi-pencil\"></i>\n            </button>\n            <button\n              class=\"btn btn-sm btn-primary\"\n              @click=\"$emitter.emit('openAddWorkLog', item._id)\"\n            >\n              Êñ∞Â¢ûÂ∑•ÂñÆ\n            </button>\n          </td>\n        </tr>\n\n        <tr v-if=\"caseList.length === 0\">\n          <td colspan=\"7\" class=\"text-center text-muted py-4\">\n            Â∞öÊú™Âª∫Á´ã‰ªª‰ΩïÊ°à‰ª∂\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n\n  <WorkLogOffcanvas />\n</template>\n\n<script>\nimport { apiGetCases } from '@/assets/javascript/api';\nimport WorkLogOffcanvas from '@/components/AddWorkLogOffcanvas.vue';\n\nexport default {\n  name: 'CaseView',\n\n  data() {\n    return {\n      caseList: [],\n    };\n  },\n  components: {\n    WorkLogOffcanvas,\n  },\n\n  methods: {\n    async getCases() {\n      this.$emitter.emit('loadingStatus', true);\n      try {\n        const res = await apiGetCases();\n        this.caseList = res.data;\n      } catch (err) {\n        console.error(err);\n        this.$emitter.emit('messageModal', {\n          status: false,\n          message: 'ÂèñÂæóÊ°à‰ª∂Â§±Êïó',\n        });\n      } finally {\n        this.$emitter.emit('loadingStatus', false);\n      }\n    },\n\n    formatDate(date) {\n      if (!date) return '-';\n      return new Date(date).toLocaleDateString();\n    },\n\n    statusText(status) {\n      const map = {\n        planning: 'Ë¶èÂäÉ‰∏≠',\n        in_progress: 'ÊñΩÂ∑•‰∏≠',\n        paused: 'Êö´ÂÅú',\n        completed: 'Â∑≤ÂÆåÂ∑•',\n        cancelled: 'Â∑≤ÂèñÊ∂à',\n      };\n      return map[status] || status;\n    },\n\n    statusClass(status) {\n      const map = {\n        planning: 'bg-secondary',\n        in_progress: 'bg-primary',\n        paused: 'bg-warning',\n        completed: 'bg-success',\n        cancelled: 'bg-dark',\n      };\n      return map[status] || 'bg-secondary';\n    },\n  },\n\n  mounted() {\n    this.getCases();\n\n    this.$emitter.on('refreshCaseList', () => {\n      this.getCases();\n    });\n  },\n\n  beforeUnmount() {\n    this.$emitter.off('refreshCaseList');\n  },\n};\n</script>\n","<!-- eslint-disable max-len -->\n<!-- eslint-disable vuejs-accessibility/form-control-has-label -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <div class=\"offcanvas offcanvas-end\" tabindex=\"-1\" ref=\"offcanvasRef\">\n    <div class=\"offcanvas-header\">\n      <h5 class=\"offcanvas-title\">Êñ∞Â¢ûÂ∑•ÂñÆ</h5>\n      <button type=\"button\" class=\"btn-close\" @click=\"hide\"></button>\n    </div>\n\n    <div class=\"offcanvas-body d-flex flex-column\">\n      <!-- Êó•Êúü Tabs -->\n      <ul class=\"nav nav-tabs mb-3\">\n        <li class=\"nav-item\" v-for=\"tab in dateTabs\" :key=\"tab.key\">\n          <button\n            class=\"nav-link\"\n            :class=\"{ active: activeTab === tab.key }\"\n            @click=\"selectTab(tab)\"\n          >\n            {{ tab.label }}\n          </button>\n        </li>\n      </ul>\n\n      <!-- Ëá™ÈÅ∏Êó•Êúü -->\n      <div v-if=\"activeTab === 'custom'\" class=\"mb-3\">\n        <input type=\"date\" class=\"form-control\" v-model=\"form.date\" />\n      </div>\n\n      <!-- Êñ∞Â¢ûÂ∑•ÂñÆË°®ÂñÆ -->\n      <form @submit.prevent=\"submit\">\n        <div class=\"mb-3\">\n          <label class=\"form-label\">Âì°Â∑•</label>\n          <select class=\"form-select\" v-model=\"form.employeeId\" required>\n            <option value=\"\">Ë´ãÈÅ∏ÊìáÂì°Â∑•</option>\n            <option v-for=\"emp in employeeList\" :key=\"emp._id\" :value=\"emp._id\">\n              {{ emp.name }}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"row g-2 mb-3\">\n          <div class=\"col\">\n            <label class=\"form-label\">ÈñãÂßãÊôÇÈñì</label>\n            <input\n              type=\"time\"\n              class=\"form-control\"\n              step=\"1800\"\n              @blur=\"form.startTime = normalizeTime(form.startTime)\"\n              v-model=\"form.startTime\"\n              required\n            />\n          </div>\n          <div class=\"col\">\n            <label class=\"form-label\">ÁµêÊùüÊôÇÈñì</label>\n            <input\n              type=\"time\"\n              class=\"form-control\"\n              step=\"1800\"\n              @blur=\"form.endTime = normalizeTime(form.endTime)\"\n              v-model=\"form.endTime\"\n              required\n            />\n          </div>\n        </div>\n\n        <div class=\"d-grid mb-3\">\n          <button class=\"btn btn-primary\" type=\"submit\">ÂÑ≤Â≠òÂ∑•ÂñÆ</button>\n        </div>\n      </form>\n\n      <!-- Â∑•ÂñÆÂàóË°® -->\n      <div class=\"border-top pt-3 flex-grow-1 overflow-auto\">\n        <h6 class=\"mb-3\">Áï∂Êó•Â∑•ÂñÆ</h6>\n\n        <div v-if=\"workLogList.length === 0\" class=\"text-muted\">Â∞öÁÑ°Â∑•ÂñÆ</div>\n\n        <div\n          v-for=\"log in workLogList\"\n          :key=\"log._id\"\n          class=\"border rounded p-2 mb-2\"\n        >\n          <div class=\"d-flex justify-content-between align-items-start\">\n            <strong>{{ log.employee.name }}</strong>\n            <button\n              class=\"btn btn-sm btn-outline-danger\"\n              @click=\"deleteLog(log)\"\n            >\n              <i class=\"bi bi-trash\"></i>\n            </button>\n          </div>\n          <div class=\"text-muted\">{{ log.startTime }} - {{ log.endTime }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Offcanvas } from 'bootstrap';\nimport {\n  apiGetEmployees,\n  apiCreateWorkLog,\n  apiGetWorkLog,\n  apiDeleteWorkLog,\n} from '@/assets/javascript/api';\n\nexport default {\n  name: 'AddWorkLogOffcanvas',\n\n  data() {\n    return {\n      offcanvas: null,\n      caseId: null,\n      employeeList: [],\n      workLogList: [],\n      activeTab: 'today',\n      dateTabs: [\n        { key: 'today', label: '‰ªäÂ§©', offset: 0 },\n        { key: 'yesterday', label: 'Êò®Â§©', offset: -1 },\n        { key: 'tomorrow', label: 'ÊòéÂ§©', offset: 1 },\n        { key: 'custom', label: 'Ëá™ÈÅ∏Êó•Êúü' },\n      ],\n      form: {\n        employeeId: '',\n        date: '',\n        startTime: '',\n        endTime: '',\n      },\n    };\n  },\n\n  watch: {\n    'form.date': function () {\n      this.loadWorkLogs();\n    },\n  },\n\n  methods: {\n    formatDate(offset = 0) {\n      const d = new Date();\n      d.setDate(d.getDate() + offset);\n\n      const year = d.getFullYear();\n      const month = String(d.getMonth() + 1).padStart(2, '0');\n      const day = String(d.getDate()).padStart(2, '0');\n\n      return `${year}-${month}-${day}`;\n    },\n\n    selectTab(tab) {\n      console.log('[selectTab] tab:', tab);\n      this.activeTab = tab.key;\n\n      if (tab.offset !== undefined) {\n        this.form.date = this.formatDate(tab.offset);\n      }\n      console.log('[selectTab] after set, form.date =', this.form.date);\n      // üî• ÈáçÈªûÔºö‰∏çÁÆ°ÊúâÊ≤íÊúâËÆäÔºåÈÉΩ‰∏ªÂãïÂà∑Êñ∞\n      this.loadWorkLogs();\n    },\n    async loadEmployees() {\n      const res = await apiGetEmployees();\n      this.employeeList = res.data;\n    },\n\n    async loadWorkLogs() {\n      console.log('[loadWorkLogs] caseId:', this.caseId);\n      console.log('[loadWorkLogs] date:', this.form.date);\n\n      if (!this.caseId || !this.form.date) return;\n\n      const res = await apiGetWorkLog({\n        caseId: this.caseId,\n        date: this.form.date,\n      });\n\n      console.log('[loadWorkLogs] response:', res.data);\n\n      this.workLogList = res.data;\n    },\n\n    async submit() {\n      try {\n        await apiCreateWorkLog({\n          employee: this.form.employeeId,\n          caseId: this.caseId,\n          date: this.form.date,\n          startTime: this.form.startTime,\n          endTime: this.form.endTime,\n        });\n\n        this.$emitter.emit('messageModal', {\n          status: true,\n          message: 'Êñ∞Â¢ûÂ∑•ÂñÆÊàêÂäü',\n        });\n\n        this.form.startTime = '';\n        this.form.endTime = '';\n        await this.loadWorkLogs();\n      } catch (err) {\n        this.$emitter.emit('messageModal', {\n          status: false,\n          message: err.response?.data?.error || 'Êñ∞Â¢ûÂ§±Êïó',\n        });\n      }\n    },\n\n    async deleteLog(log) {\n      // eslint-disable-next-line no-restricted-globals\n      if (!confirm('Á¢∫ÂÆöË¶ÅÂà™Èô§ÈÄôÁ≠ÜÂ∑•ÂñÆÔºü')) return;\n      // eslint-disable-next-line no-underscore-dangle\n      await apiDeleteWorkLog(log._id);\n      await this.loadWorkLogs();\n    },\n\n    show(caseId) {\n      this.caseId = caseId;\n      this.activeTab = 'today';\n      this.form.date = this.formatDate(0);\n      this.form.employeeId = '';\n      this.form.startTime = '';\n      this.form.endTime = '';\n      this.loadEmployees();\n      this.loadWorkLogs();\n      this.offcanvas.show();\n    },\n\n    hide() {\n      this.offcanvas.hide();\n    },\n    normalizeTime(time) {\n      if (!time) return '';\n\n      const [hour, minute] = time.split(':').map(Number);\n\n      let newHour = hour;\n      // eslint-disable-next-line no-nested-ternary\n      const newMinute = minute < 15 ? 0 : minute < 45 ? 30 : 0;\n\n      if (minute >= 45) {\n        newHour = (hour + 1) % 24;\n      }\n\n      return `${String(newHour).padStart(2, '0')}:${String(newMinute).padStart(\n        2,\n        '0',\n      )}`;\n    },\n  },\n\n  mounted() {\n    this.offcanvas = new Offcanvas(this.$refs.offcanvasRef);\n    this.$emitter.on('openAddWorkLog', this.show);\n  },\n\n  beforeUnmount() {\n    this.$emitter.off('openAddWorkLog', this.show);\n  },\n};\n</script>\n","import { render } from \"./AddWorkLogOffcanvas.vue?vue&type=template&id=79cd5e37\"\nimport script from \"./AddWorkLogOffcanvas.vue?vue&type=script&lang=js\"\nexport * from \"./AddWorkLogOffcanvas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CaseView.vue?vue&type=template&id=7fcb63d8\"\nimport script from \"./CaseView.vue?vue&type=script&lang=js\"\nexport * from \"./CaseView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","href","onClick","_cache","_withModifiers","$event","$emitter","emit","isNew","_createTextVNode","_hoisted_3","_hoisted_4","_renderList","$data","caseList","item","index","_id","_toDisplayString","_hoisted_5","name","_hoisted_6","code","vendor","_hoisted_7","contactPerson","phone","$options","formatDate","startDate","_hoisted_8","endDate","address","_normalizeClass","statusClass","status","statusText","_ctx","data","_hoisted_9","_hoisted_10","length","_hoisted_11","colspan","_createCommentVNode","_createVNode","_component_WorkLogOffcanvas","tabindex","ref","type","args","hide","dateTabs","tab","active","activeTab","selectTab","label","form","date","onSubmit","submit","employeeId","required","value","employeeList","emp","step","onBlur","startTime","normalizeTime","endTime","_hoisted_12","workLogList","_hoisted_13","log","_hoisted_14","employee","deleteLog","_hoisted_15","_hoisted_16","offcanvas","caseId","offset","watch","this","loadWorkLogs","methods","d","Date","setDate","getDate","year","getFullYear","month","String","getMonth","padStart","day","console","undefined","loadEmployees","res","apiGetEmployees","apiGetWorkLog","apiCreateWorkLog","message","err","response","error","confirm","apiDeleteWorkLog","show","time","hour","minute","split","map","Number","newHour","newMinute","mounted","Offcanvas","$refs","offcanvasRef","on","beforeUnmount","off","__exports__","components","WorkLogOffcanvas","getCases","apiGetCases","toLocaleDateString","planning","in_progress","paused","completed","cancelled","render"],"sourceRoot":""}